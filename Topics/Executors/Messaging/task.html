<div class="step-text">
<p></p>
<p>Write a program that simulates a simple message system. Each message has three fields: <code class="language-kotlin">from</code>, <code class="language-kotlin">to</code>, and <code class="language-kotlin">text</code>.</p>
<p>The interface <code class="language-kotlin">AsyncMessageSender</code> describes an abstraction that can send messages and stop its work.</p>
<pre><code class="language-kotlin">interface AsyncMessageSender {
    fun sendMessages(messages: List&lt;Message&gt;): Unit
    fun stop(): Unit
}</code></pre>
<p>The class <code class="language-kotlin">AsyncMessageSenderImpl</code> implements this interface and repeats each message several times (according to a variable).</p>
<p>Complete this class. It should:</p>
<ul>
<li>use <code class="language-kotlin">ExecutorService</code> to send multiple messages in parallel;</li>
<li>implement repeating of messages in the <code class="language-kotlin">sendMessage</code> function;</li>
<li>implement the <code class="language-kotlin">stop</code> function to shut down the executor and wait until it stops (it means blocking the thread that invokes it).</li>
</ul>
<p>Here is an example of a testing code that should successfully work with your implementation.</p>
<pre><code class="language-kotlin">val sender: AsyncMessageSender = AsyncMessageSenderImpl (3)

val messages: List&lt;Message&gt; = listOf(
    Message ("John", "Mary", "Hello!"),
    Message ("Clara", "Bruce", "How are you today?")
)

sender.sendMessages(messages)
sender.stop()

notifyAboutEnd() // it prints something after the sender successfully stops
</code></pre>
<p>Here is the output:</p>
<pre><code class="language-no-highlight">(John&gt;Mary): Hello!
(John&gt;Mary): Hello!
(John&gt;Mary): Hello!
(Clara&gt;Bruce): How are you today?
(Clara&gt;Bruce): How are you today?
(Clara&gt;Bruce): How are you today?
Completed.</code></pre>
<p>The order of the sent messages may be different, but the last line must remain the last.</p><br><br><font color="gray">Memory limit: 256 MB</font><br><font color="gray">Time limit: 8 seconds</font><br><br>
</div>